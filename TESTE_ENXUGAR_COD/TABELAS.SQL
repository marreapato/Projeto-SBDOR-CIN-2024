CREATE TABLE PASSAGEIRO_TB OF TP_PASSAGEIRO(
CONSTRAINT CPF_UNICO_PASSAGEIRO PRIMARY KEY (PK_CPF)
);


CREATE TABLE MENOR_IDADE_TB OF MENOR_IDADE_TP;

CREATE TABLE MAIOR_IDADE_TB OF MAIOR_IDADE_TP;

CREATE TABLE PASSAGEM_TB OF PASSAGEM_TP(    
    CONSTRAINT numero_passagem_pkey PRIMARY KEY(pk_localizador_passagem),
    PASSAGEIRO WITH ROWID REFERENCES PASSAGEIRO_TB,
    CONSTRAINT check_valor CHECK(VALOR_PASSAGEM>0)
);


CREATE TABLE VOO_TABLE OF voo_tp (
    CONSTRAINT pkey_localizador_voo PRIMARY KEY (pk_numero_voo)

) NESTED TABLE refere_se STORE AS LISTA_PASSAGENS;


CREATE TABLE COMPRA_TB OF TP_COMPRA(
    CONSTRAINT pkey_id_compra PRIMARY KEY(ID_COMPRA)
) NESTED TABLE PASSAGENS_COMPRADAS STORE AS LISTA_PASSAGENS_COMPRAS;


CREATE TABLE ESTADIA OF ESTADIA_TP(
 CONSTRAINT cod_estadia_pkey PRIMARY KEY(pk_cod_estadia),
 CONSTRAINT CHECAR_VALOR_ESTADIA CHECK(VALOR_ESTADIA>0)   
)


CREATE TABLE HOTEL OF HOTEL_TP(
    CONSTRAINT hotel_pkey PRIMARY KEY (pkid_hotel)
)NESTED TABLE REGISTROS STORE AS LISTA_REGISTROS;
